/* Copyright (c) 2012, Marcel Duran */
YUI.add("lang/qrvoice_it",function(a){"use strict",a.Intl.add("qrvoice","it",{direction:"ltr",tagline:"quando una imagine vale più che cento lettere",help:"aiuto",faq:"faq",faqFile:"faq_en-US.html",placeholder:"che vuoi dire?",msgTitle:"testo che vuoi tradurre (massimo 100 lettere)",genLabel:"generare",genTitle:"generare qr-voice",whichLang:"in {lang}",spokenLang:"Lingua parlata",langs:{af:"afrikaans",sq:"albanese",ar:"arabo",hy:"armeno",ca:"catalano",zh:"cinese",hr:"croato",cs:"ceco",da:"danese",nl:"olandese",en:"inglese",fi:"finlandese",fr:"francese",de:"tedesco",el:"greco",ht:"creolo haitiano",hi:"hindi",hu:"ungherese",is:"islandese",id:"indonesiano",it:"italiano",ja:"giapponese",ko:"coreano",la:"latino",lv:"lettone",mk:"macedone",no:"norvegese (Bokmål)",pl:"polacco",pt:"portoghese",ro:"rumeno",ru:"russo",sr:"serbo",sk:"slovacco",es:"spagnolo",sw:"svedese",sv:"swahili",ta:"tamil",tr:"turco",vi:"vietnamita",cy:"gallese"},langsNote:"lingue solo per riproduzione, nessuna traduzione",resizeTitle:"ridimensionare qr-code",linkTitle:"link per la qr-code imagine",imgTitle:"qr-code per la riproduzione del messaggio, salvare/catturare questa imagine o copiare il link",facebookButton:"Mi piace",twitterButton:"Tweet",intls:[{id:"en-US",name:"inglese (Stati Uniti)",ownName:"English (United States)"},{id:"es-419",name:"spagnolo (America Latina)",ownName:"español (Latinoamérica)"},{id:"fr",name:"francese",ownName:"français"},{id:"it",name:"italiano"},{id:"ja",name:"giapponese",ownName:"日本語"},{id:"pt-BR",name:"portoghese (Brasile)",ownName:"português (Brasil)"}],intlsTitle:"lingua del user",disclaimer:"nota: qrvoice non é affiliato con Yahoo!&trade; Inc., Google&trade; Inc. o bitly&trade; Inc. in nessuna forma."})},"0.0.8");YUI.add("qrvoice",function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q="qrvoice",r=q,s="R_039525bc02a0dbe1e6456752fdc17997",t="http://my.qrvoice.net/",u="http://api.bitly.com/v3/shorten?login="+r+"&apiKey="+s+"&longUrl={url}&format=json&callback={callback}",v="http://translate.google.com/translate_tts?ie=UTF-8&q={msg}&tl={lang}",w="http://chart.apis.google.com/chart?cht=qr&choe=UTF-8&chs={size}x{size}&chl={url}",x="http://www.facebook.com/sharer.php?t=QR%20voice&u=http%253A%252F%252Fqrvoice.net%2F%3Fid%3D{id}",y="http://twitter.com/share?source=tweetbutton&text=QR%20voice&url=http%3A%2F%2Fqrvoice.net%2F%3Fid%3D{id}",z=33,A=547,B=10,C="hidden",D="lng-sel",E="invis",F=".lbl",G="body",H="#qrlink",I="#qrcopy",J="#help",K="#lang",L=a.one,M=a.Intl,N=M.get(q),O=a.Lang,P=O.sub,Q=a.config.win,R=Q.location,S=Q.navigator,T=a.StorageLite,U=T.getItem,V=T.setItem,W=a.Node,X=W.create,Y=a.Object.each,Z=a.Array,$=Z.each,_=W.getDOMNode,ba=encodeURIComponent,bb=Math.round,bc=null,bd="value",be="lang",bf="placeholder",bg="title",bh="click",bi="size",bj="rtl",bk="id",bl="href",bm=/[\d\w\-_]/g,bn=N.langs,bo=S.userLanguage||S.language,bp=bo.slice(0,2).toLowerCase(),bq=0,br=L(G),bs=L("#form"),bt=L("#msg"),bu=L("#size"),bv=L("#slider-thumb"),bw=L("#qrcode-wrp"),bx=L(H),by=L(I),bz=_(by),bA=L("#slider-box"),bB=L("#lang-lst"),bC=L("#lang-name"),bD=L("#social .facebook"),bE=L("#social .twitter"),bF=L("#help-panel"),bG=(new a.apm.SimpleSlider({node:bA})).render(),bH=function(){var a=Q.history;return a&&a.replaceState?function(b){a.replaceState(bc,bc,b?"?"+b:"/")}:function(a){R.hash=a}}(),bI=function(a,b){bt.get(bd)||f.setXY(b||bt.getXY()),a&&a.halt()},bJ=function(a){return a.toLowerCase().replace(/[áãâ]/g,"a").replace(/[éê]/g,"e").replace(/[í]/g,"i").replace(/[ô]/g,"o").replace(/[ú]/g,"u").replace(/[ç]/g,"c").replace(/[ñ]/g,"n")},bK=function(a,b){var c=bJ(a.name),d=bJ(b.name);return c<d?-1:1},bL=function(){return k==="zh"?"zh-CN":k},bM=function(a){bn.hasOwnProperty(a)||(a="en"),k=a,bt.set(be,bL()),bC.setContent(P(N.whichLang,{lang:bn[a]})),V(be,a)},bN=function(a,b){var c,d,e=a&&a.data;if(!e)return;c=e.url,d=e.hash,p||(p=X(P('<img id="qrcode" alt="{alt}">',{alt:N.imgTitle})),bw.append(p)),p.set("src",c),bw.set(bl,c),bx.set(bl,c).setContent(c),bD.set(bl,P(x,{id:d})),bE.set(bl,P(y,{id:d})),b||bH("id="+d)},bO=function(b){var c,d,e=b&&b.data;if(!e)return;c=P(w,{size:h,url:ba(e.url)}),d=P(u,{url:ba(c)}),a.jsonp(d,{on:{success:bN}})},bP=function(b){var c,d,e=bt.get(bd),f=bL();b.halt(),e&&(l!==e||m!==f)&&(l=e,m=f,a.log(e),e=ba(e),a.log(e),c=P(v,{msg:e,lang:f}),a.log(c),d=P(u,{url:ba(c)}),a.log(d),a.jsonp(d,{on:{success:bO}}))};br.setStyle("visibility","visible"),bs.on("submit",bP),br.delegate(bh,function(a){a.halt(),bB.toggleClass(C)},K),br.delegate(bh,function(a){a.halt(),L("#help-img").setStyle("background","url(/images/help.jpg) no-repeat"),bF.toggleClass(E)},J),br.delegate(bh,function(a){a.target.ancestor(K)||bB.addClass(C),a.target.test(J)||bF.addClass(E)},G),br.delegate(bh,function(a){var b=a.target;a.preventDefault(),L("#lng-"+k).removeClass(D),b.addClass(D),bM(b.get(bk).slice(4))},".lng"),br.delegate("mouseover",function(){bx.addClass(E),by.removeClass(E).set(bd,bx.getContent()),bz.focus(),bz.select()},H),br.delegate("mouseout",function(){bx.removeClass(E),by.addClass(E)},I),bG.on("valueChange",function(a){var c=o||bb(a.newVal[0]*b)+z;o=0,c=c<z?z:c>A?A:c,h=c,V(bi,c),bu.setContent(c+"x"+c),bw.setStyles({height:c,width:c})}),d=R.search,c=d.lastIndexOf("/"),c=c>-1?c:d.length,e=d.slice(1,c).split("&").concat(R.hash.slice(1).split("&")),Z.some(e,function(a){var b=a.split("="),c=b[1];if(b[0]===bk&&bm.test(c))return bN({data:{url:t+c,hash:c}},1),1}),N.direction===bj&&br.addClass(bj),L(J).setContent(N.help).set(bl,N.faqFile).removeClass(C),L("#faq").setContent(N.faq).set(bl,N.faqFile),L("#tagline").setContent(N.tagline),bt.set(bf,N.placeholder).set(bg,N.msgTitle),L("#lbl-msg").setContent(N.msgTitle),L("#gen").set(bg,N.genTitle),L("#lbl-gen").setContent(N.genLabel),bv.set(bg,N.resizeTitle),bx.set(bg,N.linkTitle),bw.set(bg,N.imgTitle),L("#lbl-intls").setContent(N.intlsTitle),L("#disclaimer").setContent(N.disclaimer),bD.one(F).setContent(N.facebookButton),bE.one(F).setContent(N.twitterButton),O.isUndefined(_(X("<input>"))[bf])&&(f=X(P('<label class="{cls}" for="msg">{lbl}</label>',{cls:bf,lbl:N.placeholder})),bs.append(f),bI(),bt.on("focus",bI,bc,[0,-1e4]),bt.on("blur",bI)),j="",g=M.getLang(q),$(N.intls.sort(bK),function(a){var b=a.id,c=a.ownName;j+=P('<option value="{id}"{sel}>{opt}</option>',{id:b,sel:b===g?" selected":"",opt:a.name+(c?" - "+c:"")})}),i=X(P('<select id="intls" title="{title}">{opts}</select>',{title:N.intlsTitle,opts:j})),br.one("#intls-wrp").append(i),i.on("change",function(){var a=i.get("options").item(i.get("selectedIndex")).get(bd);V("intl",a),R.reload()}),T.on("storage-lite:ready",function(){var a=[];n=parseInt(bA.getStyle("width"),10),b=(A-z+1)/n,h=U(bi),h?o=h:h=n,bG.update([bb((h-z)/b),0]),bv.removeClass(C),bw.removeClass(C),bM(U(be)||bp),j=P('<div id="lang-hd">{title}</div><ul class="lang-col">',{title:N.spokenLang}),Y(bn,function(b,c){a.push({id:c,name:b})}),$(a.sort(bK),function(a){var b=a.id;j+=P('<li><a class="lng{cls}" href="#" id="lng-{id}">{name}</a></li>',{cls:b===k?" "+D:"",id:b,name:a.name}),bq+=1,bq%B===0&&(j+='</ul><ul class="lang-col">')}),j+=P('</ul><div id="lang-ft">{note}</div>',{note:N.langsNote}),bB.setContent(j)})},"0.0.8",{lang:["en-US","es-419","it","ja","pt-BR"],requires:["node","json","jsonp","dd-constrain","gallery-center","gallery-simpleslider","gallery-storage-lite"]})